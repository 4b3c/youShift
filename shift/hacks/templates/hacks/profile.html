{% load static %}

<!DOCTYPE html>
<html>

<head>
    <title>Profile</title>
    <link rel="stylesheet" type="text/css" href="{% static 'styles.css' %}">
</head>

<body>

    <div class="box">
        <div class="title" style="left: 0px;">Shift</div>
    </div>

    <div class="container" style="cursor: pointer;">
        <a href="{% url 'home' %}" class="new-shift" style="font-size: 50px;">üè†</a>
        <a onclick="showEditProfileForm()" class="new-shift" style="margin-bottom: 440px; font-size: 50px;">‚öôÔ∏è</a>
        <div class="post-container">
            <div class="profile-card">
                <div class="profile-picture"></div>
                <div>
                    <h1 style="font-size: 1.6em; margin-bottom: 3px">{{ user.nickname }}</h1>
                    <p style="font-size: 0.8em; margin: 3px; color: #CCCCCC;">{{ user.username }}</p>
                    <p style="font-size: 0.8em; margin: 3px; color: #CCCCCC;">{{ user.bio }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Home page with a modal container for creating posts -->
    <div class="modal-container" id="profileEditModalContainer">
        <form method="post" action="{% url 'profile' %}">
            {% csrf_token %}
            <h2 style="color: white;">Editing {{ user.username }}'s profile</h2>
            <input type="text" id="{{ pe_form.nickname.id_for_label }}" name="{{ pe_form.nickname.name }}" placeholder="Nickname" required>{{ user.nickname }}
            <br>
            <textarea type="text" id="{{ pe_form.bio.id_for_label }}" name="{{ pe_form.bio.name }}" placeholder="Bio" required>{{ user.bio }}</textarea>
            <br>
            <input type="submit" value="Save Profile">
        </form>
    </div>

    <script>
        function showEditProfileForm() {
            document.getElementById('profileEditModalContainer').style.display = 'block';
        }

        function closeEditProfileForm() {
            document.getElementById('profileEditModalContainer').style.display = 'none';
        }

        document.getElementById('profileEditModalContainer').addEventListener('click', function(event) {
            if (event.target.id === 'profileEditModalContainer') {
                closeEditProfileForm();
            }
        });
    </script>

</body>

</html>
